(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){e.exports=n(41)},20:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(13),c=n.n(u),o=(n(20),n(3)),i=function(e){return null===e.notification?null:e.error?r.a.createElement("div",{className:"error"},e.notification):r.a.createElement("div",{className:"message"},e.notification)},l=function(e){return r.a.createElement("div",null,"rajaa n\xe4ytett\xe4vi\xe4: ",r.a.createElement("input",{onChange:function(t){return e.setFilter(t.target.value)},value:e.filter}))},s=function(e){return r.a.createElement("form",{onSubmit:e.addPerson},r.a.createElement("div",null,"nimi: ",r.a.createElement("input",{onChange:function(t){return e.setNewName(t.target.value)},value:e.newName})),r.a.createElement("div",null,"numero: ",r.a.createElement("input",{onChange:function(t){return e.setNewNumber(t.target.value)},value:e.newNumber})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},m=function(e){return e.persons.map(function(t){return r.a.createElement("p",{key:t.name},t.name," ",t.number,r.a.createElement("button",{onClick:function(n){return e.removePerson(n,t.name)}},"poista"))})},f=n(2),p=n.n(f),d=n(4),v=n(5),b=n.n(v),w="/api/persons",h={getAll:function(){var e=Object(d.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(w);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(d.a)(p.a.mark(function e(t){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post(w,t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(d.a)(p.a.mark(function e(t,n){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.put("".concat(w,"/").concat(t),n);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),remove:function(){var e=Object(d.a)(p.a.mark(function e(t){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.delete("".concat(w,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},E=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],u=t[1],c=Object(a.useState)(""),f=Object(o.a)(c,2),p=f[0],d=f[1],v=Object(a.useState)(""),b=Object(o.a)(v,2),w=b[0],E=b[1],j=Object(a.useState)(""),O=Object(o.a)(j,2),g=O[0],N=O[1],k=Object(a.useState)(null),x=Object(o.a)(k,2),y=x[0],P=x[1],S=Object(a.useState)(null),C=Object(o.a)(S,2),L=C[0],A=C[1];Object(a.useEffect)(function(){h.getAll().then(function(e){return u(e)}).catch(function(e){return console.log(e)})},[]);var D=function(e,t){P(e),A(t),setTimeout(function(){P(null),A(null)},5e3)},F=g?n.filter(function(e){return e.name.toLowerCase().includes(g.toLowerCase())}):n;return r.a.createElement("div",null,r.a.createElement("h2",null,"Puhelinluettelo"),r.a.createElement(i,{notification:y,error:L}),r.a.createElement(l,{setFilter:N,filter:g}),r.a.createElement("h3",null,"lis\xe4\xe4 uusi"),r.a.createElement(s,{addPerson:function(e){e.preventDefault();var t={name:p,number:w},a=n.find(function(e){return e.name===p});a?window.confirm("".concat(p," on jo luettelossa, korvataanko vanha numero uudella?"))&&h.update(a.id,t).then(function(e){u(n.filter(function(e){return e.name!==t.name}).concat(e)),d(""),E(""),D("P\xe4ivitettiin ".concat(t.name))}).catch(function(e){D(e.response.data.error.message,!0)}):h.create(t).then(function(e){u(n.concat(e)),d(""),E(""),D("Lis\xe4ttiin ".concat(t.name))}).catch(function(e){D(e.response.data.error.message,!0)})},setNewName:d,newName:p,setNewNumber:E,newNumber:w}),r.a.createElement("h2",null,"Numerot"),r.a.createElement(m,{persons:F,removePerson:function(e,t){e.preventDefault();var a=n.find(function(e){return e.name===t});a&&window.confirm("Poistetaanko ".concat(a.name))&&h.remove(a.id).then(function(e){u(n.filter(function(e){return e.id!==a.id})),D("Poistettiin ".concat(a.name))}).catch(function(e){D("Henkil\xf6 ".concat(a.name," on jo poistettu"),!0),u(n.filter(function(e){return e.id!==a.id})),console.log(e)})}}))};c.a.render(r.a.createElement(E,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.47328c78.chunk.js.map